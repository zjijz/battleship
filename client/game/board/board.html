<template name="board">
    {{#if isDone}}
        <ul class="board">
            {{#each state.pieces}}
                {{#let x=@index }}
                    <li class="row">
                        {{#each this}}
                            {{#let y=@index}}
                                <span class="{{this.type}} {{this.hit}}" position="{{x}}:{{y}}"></span>
                            {{/let}}
                        {{/each}}
                    </li>
                {{/let}}
            {{/each}}
        </ul>
    {{else}}
        <ul class="board {{type}}">
            {{#each state.pieces}}
                {{#let x=@index }}
                <li class="row">
                    {{#each this}}
                        {{#let y=@index}}
                        <span class="{{this.type}} {{this.hit}}" position="{{x}}:{{y}}"></span>
                        {{/let}}
                    {{/each}}
                </li>
                {{/let}}
            {{/each}}
        </ul>
    {{/if}}
</template>